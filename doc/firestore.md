# Firestoreドキュメント設計

## ユーザドキュメント（user）
ユーザ1人の情報を1ドキュメントに格納する。

```js
{
  id: 'ユーザのID',
  name: 'ユーザ名',
  iconPath: 'アイコンの保存先',
  createdAt: 'ドキュメントの登録日時',
  updatedAt: 'ドキュメントの更新日時'
}
```

## マイページ用投稿（mypage-post）
マイページに表示するための投稿コレクション。
1投稿1ドキュメントで、散歩中の1投稿も1ドキュメントになる。
全員分のタイムラインとは別のコレクションになる。
投稿は基本的に編集できないこととする（そのため、更新日時は持たない）。

```js
{
  postId: '投稿ID',
  userId: 'ユーザID',
  body: '本文',
  images: [ '画像のURLリスト' ],
  likeCount: 'いいねの数',
  createdAt: 'ドキュメントの登録日時',

}
```

## 全体投稿（global-post）
全員用タイムラインに表示するための投稿コレクション。
マイページ用とは異なり、散歩中の複数の投稿は`childPostlist`に格納する。
（全員用タイムラインでは散歩1回につき1投稿扱いのため）
つまり、散歩1回につき1ドキュメントとなる。
`childPostList`内の投稿は基本的に編集できないこととする（そのため、更新日時は持たない）。

```js
{
  postId: '投稿ID',
  userId: 'ユーザID',
  body: '本文',
  childPostList: [
    {
      postId: '子投稿ID',
      body: '本文',
      images: [ '画像のURLリスト' ],
      likeCount: 'いいねの数',
      createdAt: '投稿日時'
    }
  ],
  createdAt: 'ドキュメントの登録日時'
  updatedAt: 'ドキュメントの更新日時'
}
```
